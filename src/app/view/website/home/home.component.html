<body>
    <main class="fadeIn">
        <div class="musicArea">
            <div class="top">
                <div class="card">
                    <img [src]="randomImage" alt="Random Card">
                    <div class="background" [style.backgroundImage]="'url(' + randomImage + ')'"></div>
                </div>
                <div class="title fadeIn">
                    <h2>
                        <ng-container *ngIf="currentVideoTitle; else loading">
                          {{ currentVideoTitle }}
                        </ng-container>
                        <ng-template #loading>
                          <mat-spinner diameter="24"></mat-spinner>
                        </ng-template>
                      </h2>                      
                </div>
            </div>
            <div class="down">
                <div class="button back" (click)="previousVideo()">
                    <mat-icon>skip_previous</mat-icon>
                </div>
                <div class="button pause" (click)="togglePlayPause()">
                    <mat-icon>{{ isPlaying ? 'pause' : 'play_arrow' }}</mat-icon>
                </div>                  
                <div class="button next" (click)="nextVideo()">
                    <mat-icon>skip_next</mat-icon>
                </div>
            </div>
            <div class="volume">
                <mat-slider id="volume-slider" min="0" max="100" step="1" discrete>
                    <input id="volume-value" [(ngModel)]="volume" (input)="setVolume(volume)" matSliderThumb [value]="volume">
                </mat-slider>              
            </div>
        </div>
        <youtube-player 
            id="youtube-player" 
            [ngStyle]="{'z-index': '-99', 'visibility': 'hidden', 'position': 'absolute', 'top': '-9999px'}"
            [height]="250" 
            [width]="500">
        </youtube-player>

        <div class="footer">
            <div class="left">
                <a href="https://github.com/emanuelsacoman" target="_blank" matTooltip="Author">
                    <mat-icon>code</mat-icon>
                </a>
                <div class="usercount" matTooltip="Others Listening">
                    <mat-icon>person</mat-icon>
                    {{ connectedUsersCount }}
                </div>                  
            </div>
            <div class="right">
                <a href="https://www.pexels.com" target="_blank">
                    <img src="https://images.pexels.com/lib/api/pexels-white.png" alt="Pexels"/>
                </a>
            </div>
        </div>
    </main>
</body>